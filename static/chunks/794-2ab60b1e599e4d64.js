"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[794],{50800:function(e,t,n){n.d(t,{Z:function(){return c}});var s=n(85893),l=n(11163),i=n(33531),o=n(99034),r=n.n(o);function c(){let e=(0,l.useRouter)();return(0,s.jsxs)("div",{className:r().hoverScaleMin,onClick:()=>e.push("/"),children:[(0,s.jsx)("span",{className:r().brandTitle,style:{color:i.Z.blue},children:"friend."}),(0,s.jsx)("span",{className:r().brandTitle,children:"Tech"})]})}},39395:function(e,t,n){n.d(t,{Z:function(){return c}});var s=n(85893),l=n(33531),i=n(87887),o=n(99034),r=n.n(o);function c(e){var t;let{backgroundColor:n,border:o,borderRadius:c,color:a,fontSize:d,padding:u,disabled:h,shadow:x,text:m,onClick:p}=e;return(0,s.jsx)("button",{className:r().buttonRound,disabled:null!==(t=null!=h&&h)&&void 0!==t&&t,style:{opacity:null!=h&&h?.5:1,backgroundColor:null!=n?n:l.Z.blue,border:null!=o?o:"none",borderRadius:null!=c?c:32,color:null!=a?a:"white",padding:null!=u?u:"16px 32px",fontSize:null!=d?d:16,fontFamily:"".concat(i.fm," Medium"),boxShadow:null!=x?x:"0px 0px 12px rgba(0, 0, 0, 0.05)"},onClick:()=>p(),children:m})}},72388:function(e,t,n){n.d(t,{Z:function(){return i}});var s=n(85893),l=n(39395);function i(e){let{onClick:t}=e;return(0,s.jsx)(l.Z,{text:"Load more",fontSize:12,backgroundColor:"#8A8C9F",padding:"0.5em 1em",onClick:()=>t()})}},44349:function(e,t,n){n.d(t,{Z:function(){return p}});var s=n(85893),l=n(34051),i=n(31555),o=n(41330),r=n(99034),c=n.n(r),a=n(11163),d=n(33531),u=n(8728),h=n(87887),x=n(30381),m=n.n(x);function p(e){var t,n;let{trade:r,user:x}=e,p=(0,a.useRouter)(),f=r.trader;return(0,s.jsxs)(l.Z,{className:c().tradesRow,onClick:()=>p.push("/rooms/".concat(f)),children:[(0,s.jsxs)(i.Z,{xs:"auto",style:{paddingLeft:0,paddingRight:0},children:[(0,s.jsx)(o.Z,{src:null!==(t=r.twitterPfpUrl)&&void 0!==t?t:"./crown.png",roundedCircle:!0,style:{width:"2em",height:"2em",objectFit:"contain",border:"1px solid ".concat(d.Z.divider)}}),(0,s.jsx)(o.Z,{src:null!==(n=null==x?void 0:x.twitterPfpUrl)&&void 0!==n?n:"./crown.png",roundedCircle:!0,style:{width:"2em",height:"2em",objectFit:"contain",border:"1px solid ".concat(d.Z.divider),position:"relative",left:"-0.25em"}})]}),(0,s.jsxs)(i.Z,{style:{textAlign:"left",fontSize:"14px"},children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("span",{className:c().linkText,children:[r.twitterName," "]}),(0,s.jsxs)("span",{children:[r.isBuy?"bought":"sold"," ",r.shareAmount]}),(0,s.jsxs)("span",{className:c().linkText,children:[" ",null==x?void 0:x.twitterName," "]}),(0,s.jsx)("span",{children:parseInt(r.shareAmount)>1?"keys":"key"})]}),(0,s.jsxs)("div",{style:{color:d.Z.gray,fontFamily:"".concat(h.fm," Medium"),fontSize:"12px"},children:[(0,s.jsxs)("span",{style:{color:d.Z.blue},children:[(0,u.oc)(r.ethAmount)," ETH"]}),", ",m()(r.createdAt).fromNow()+" ago"]})]})]},r.createdAt)}},36794:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var s,l,i=n(85893),o=n(10682),r=n(31555),c=n(34051),a=n(41330),d=n(36968),u=n(99034),h=n.n(u),x=n(1796),m=n(33531),p=n(11163),f=n(67294),j=n(8728),g=n(33712),Z=n(22969),y=n(87887);function v(e){let{selectedTab:t,onTabSelected:n}=e,s=[l.YOU,l.ACTIVITY,l.FRIENDS,l.GLOBAL];return(0,i.jsx)(c.Z,{id:"discovery-selector",style:{paddingTop:"1.5em",paddingBottom:"1em",paddingLeft:"1em"},children:(0,i.jsx)(Z.Z,{horizontal:!0,className:h().horizontalScrollGroup,children:s.map((e,s)=>(0,i.jsx)(r.Z,{xs:"auto",className:h().sectionTitleText,style:{fontFamily:t==e?"".concat(y.fm," SemiBold"):"".concat(y.fm," Regular"),cursor:"pointer",paddingRight:"1.2em"},onClick:()=>n(e),children:e},s))})})}(s=l||(l={})).TOP="Top",s.ACTIVITY="Your keys",s.FRIENDS="Friends",s.GLOBAL="Global",s.YOU="You";var b=n(94185),k=n(39910),S=n(50800),T=n(0),C=n(90344),N=n(30381),w=n.n(N);function A(e){var t,n;let{event:s,index:l}=e,o=(0,p.useRouter)(),d=()=>{o.push("/rooms/".concat(s.trader.address))},u=()=>{o.push("/rooms/".concat(s.subject.address))};return(0,i.jsxs)(c.Z,{className:h().tokenRowNoHover,children:[(0,i.jsxs)(r.Z,{xs:"auto",style:{paddingLeft:0,paddingRight:0},children:[(0,i.jsx)(a.Z,{id:"trader-pfp",src:null!==(t=s.trader.pfpUrl)&&void 0!==t?t:"./crown.png",roundedCircle:!0,style:{width:"2em",height:"2em",objectFit:"contain",border:"1px solid ".concat(m.Z.divider),backgroundColor:"white"},onClick:()=>d()}),(0,i.jsx)(a.Z,{id:"subject-pfp",src:null!==(n=s.subject.pfpUrl)&&void 0!==n?n:"./crown.png",onClick:()=>u(),roundedCircle:!0,style:{width:"2em",height:"2em",objectFit:"contain",border:"1px solid ".concat(m.Z.divider),position:"relative",left:"-0.25em",backgroundColor:"white"}})]}),(0,i.jsxs)(r.Z,{style:{textAlign:"left",fontSize:"14px"},children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("span",{onClick:()=>d(),className:h().linkText,style:{fontFamily:"".concat(y.fm," Medium")},children:[s.trader.name," "]}),(0,i.jsxs)("span",{children:[s.isBuy?"bought":"sold"," ",s.shareAmount]}),(0,i.jsxs)("span",{onClick:()=>u(),className:h().linkText,style:{fontFamily:"".concat(y.fm," Medium")},children:[" ",s.subject.name," "]}),(0,i.jsx)("span",{children:parseInt(s.shareAmount)>1?"keys":"key"})]}),(0,i.jsxs)("div",{style:{color:m.Z.gray,fontFamily:"".concat(y.fm," Medium"),fontSize:"12px"},children:[(0,i.jsxs)("span",{style:{color:m.Z.blue},children:[(0,j.oc)(s.ethAmount)," ETH"]}),", ",w()(s.createdAt).fromNow()+" ago"]})]})]},l)}var I=n(44349),R=n(72388);function F(){let e=(0,p.useRouter)(),{setAppUser:t,jwt:n}=(0,T.b)(),{user:s}=(0,x.sv)(),[u,Z]=(0,f.useState)(),[y,N]=(0,f.useState)("0.0"),[w,F]=(0,f.useState)(l.ACTIVITY),[E,L]=(0,f.useState)(),[z,Y]=(0,f.useState)(),[O,U]=(0,f.useState)(),[B,G]=(0,f.useState)(!0),[M,D]=(0,f.useState)(0),[P,V]=(0,f.useState)([]),[H,_]=(0,f.useState)(null),{user:q,error:J}=(0,k.pg)(u);(0,f.useEffect)(()=>{u&&n&&(Q(null),W(),X(),$())},[u,n]),(0,f.useEffect)(()=>{if(s){var e;Z(null===(e=s.wallet)||void 0===e?void 0:e.address)}},[s]),(0,f.useEffect)(()=>{q&&((0,g.c7)(q),t(q))},[q]),(0,f.useEffect)(()=>{J&&console.log("Portfolio Api User Error",J)},[J]),(0,f.useEffect)(()=>{u&&(0,b.EG)({address:u,chainId:C.appChain.id}).then(e=>N(e.formatted)).catch(console.log)},[u]);let K=()=>{Date.now()-M<2e3||(G(!0),D(Date.now()),w===l.YOU?(V([]),_(null),_(null),Q(null)):w===l.GLOBAL?W():w===l.ACTIVITY?X():w===l.FRIENDS&&$())},Q=e=>{u&&n&&(0,k.S8)(u,e,n).then(t=>{_(t.nextPageStart),e?V([...P,...t.users]):V(t.users)}).catch(console.log).finally(()=>G(!1))},W=()=>{n&&(0,k.MT)(n,null).then(e=>{L(e)}).catch(console.log).finally(()=>{G(!1)})},X=()=>{u&&n&&(0,k.o9)(n,u).then(e=>{Y(e)}).catch(console.log).finally(()=>G(!1))},$=()=>{u&&n&&(0,k.qm)(n,u).then(e=>{U(e)}).catch(console.log).finally(()=>G(!1))};return(0,i.jsx)(o.Z,{fluid:!0,className:h().container,style:{padding:"0",alignItems:"center"},children:(0,i.jsxs)(r.Z,{style:{width:"100%"},children:[(0,i.jsxs)(c.Z,{id:"top-nav",className:h().topNavContainer,style:{top:0,position:"sticky",zIndex:999},children:[(0,i.jsx)(r.Z,{children:(0,i.jsx)(S.Z,{})}),(0,i.jsx)(r.Z,{xs:"auto",onClick:()=>e.push("/settings"),children:(0,i.jsxs)("div",{style:{cursor:"pointer",border:"1px solid ".concat(m.Z.divider),padding:"0.3em 0.6em",borderRadius:32,justifyContent:"center",userSelect:"none"},children:[(0,i.jsx)("span",{children:(0,i.jsx)(a.Z,{src:"./ethlogo-blue.svg",style:{width:16,height:16,objectFit:"contain"}})}),(0,i.jsxs)("span",{className:h().tokenTicker,style:{fontSize:14,marginLeft:4},children:[(0,j.mR)(y)," ETH"]})]})})]}),(0,i.jsx)(c.Z,{className:h().divider}),(0,i.jsxs)(c.Z,{style:{alignItems:"center"},children:[(0,i.jsx)(r.Z,{children:(0,i.jsx)(v,{selectedTab:w,onTabSelected:F})}),(0,i.jsx)(r.Z,{xs:"auto",style:{justifyContent:"flex-end",textAlign:"right",marginRight:"1em",padding:"1em",color:m.Z.gray},onClick:()=>K(),children:B?(0,i.jsx)(d.Z,{color:m.Z.gray,size:"sm"}):(0,i.jsx)(a.Z,{src:"./refreshIcon.svg",style:{width:16,height:16,objectFit:"contain"}})})]}),w===l.YOU&&q&&(0,i.jsxs)(c.Z,{id:"your-activity-section",className:h().portfolioSection,children:[P?(0,i.jsx)(r.Z,{style:{padding:0},children:P.map(e=>(0,i.jsx)(I.Z,{trade:e,user:q}))}):(0,i.jsx)(r.Z,{style:{textAlign:"center",marginTop:"3em",color:m.Z.blue},children:(0,i.jsx)(d.Z,{})}),H&&(0,i.jsx)(c.Z,{style:{textAlign:"center",marginTop:"1em"},children:(0,i.jsx)(r.Z,{styl:{padding:0},children:(0,i.jsx)(R.Z,{onClick:()=>Q(H)})})})]}),w===l.GLOBAL&&(0,i.jsx)(c.Z,{id:"global-activity-section",className:h().portfolioSection,children:E?(0,i.jsx)(r.Z,{children:E.events.map((e,t)=>(0,i.jsx)(A,{event:e,index:t}))}):(0,i.jsx)(r.Z,{style:{textAlign:"center",marginTop:"3em",color:m.Z.blue},children:(0,i.jsx)(d.Z,{})})}),w===l.ACTIVITY&&(0,i.jsx)(c.Z,{id:"global-activity-section",className:h().portfolioSection,children:z?(0,i.jsx)(r.Z,{children:z.events.map((e,t)=>(0,i.jsx)(A,{event:e,index:t}))}):(0,i.jsx)(r.Z,{style:{textAlign:"center",marginTop:"3em",color:m.Z.blue},children:(0,i.jsx)(d.Z,{})})}),w===l.FRIENDS&&(0,i.jsx)(c.Z,{id:"global-activity-section",className:h().portfolioSection,children:O&&(0,i.jsx)(r.Z,{children:O.events.map((e,t)=>(0,i.jsx)(A,{event:e,index:t}))})})]})})}}}]);
