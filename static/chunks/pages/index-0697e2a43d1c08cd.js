(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(42603)}])},2584:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var s=n(85893),i=n(33531),a=n(87887),r=n(99034),o=n.n(r);function l(e){let{color:t,fontSize:n,padding:r,text:l,onClick:u}=e;return(0,s.jsxs)("button",{className:o().buttonRound,style:{backgroundColor:"transparent",color:null!=t?t:i.Z.gray,padding:null!=r?r:"16px 32px",fontSize:null!=n?n:16,border:"none",fontFamily:"".concat(a.fm," Medium")},onClick:()=>u(),children:[l," â†’"]})}},91922:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var s=n(85893),i=n(76782),a=n(39395),r=n(99034),o=n.n(r),l=n(0),u=n(67294),c=n(87887),d=n(33531);function p(e){let{open:t,onClose:n}=e,{appUser:r}=(0,l.b)(),[p,y]=(0,u.useState)("");return(0,u.useEffect)(()=>{r&&y(r.id.toString().padStart(6,"0").replace(/(.{3})/g,"$1 "))},[r]),(0,s.jsx)(i.Z,{show:t,onHide:n,className:o().modalContainer,centered:!0,children:(0,s.jsxs)("div",{style:{padding:"2em"},children:[(0,s.jsxs)("div",{style:{color:d.Z.gray,fontSize:16},children:["Visit ",(0,s.jsx)("a",{href:"https://friend.tech/deposit",target:"_blank",style:{textDecoration:"underline"},children:"https://friend.tech/deposit"})," in your phone or computer's browser and use this code:"]}),(0,s.jsx)("div",{style:{marginTop:"0.5em",fontSize:32,fontFamily:"".concat(c.fm," Medium")},children:p}),(0,s.jsx)("div",{style:{marginTop:"2em"},children:(0,s.jsx)(a.Z,{text:"Okay",onClick:()=>n()})})]})})}},41598:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var s=n(85893),i=n(34051),a=n(31555),r=n(36968),o=n(33531),l=n(39395),u=n(11163),c=n(67294);function d(e){let{text:t,showReloadButton:n}=e,d=(0,u.useRouter)(),[p,y]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{n&&setTimeout(()=>{y(!0)},2e3)},[n]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i.Z,{style:{alignItems:"center",justifyContent:"center",height:"100vh"},children:(0,s.jsxs)(a.Z,{style:{textAlign:"center"},children:[(0,s.jsx)("div",{children:(0,s.jsx)(r.Z,{style:{color:o.Z.blue}})}),p&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:{marginTop:"1em",color:o.Z.gray},children:"Click here if you aren't redirected in a few seconds:"}),(0,s.jsx)("div",{style:{marginTop:"1em"},children:(0,s.jsx)(l.Z,{text:"Reload",padding:"0.5em 1em",onClick:()=>d.reload()})})]})]})})})}},68854:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var s=n(87887),i=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"trader","type":"address"},{"indexed":false,"internalType":"address","name":"subject","type":"address"},{"indexed":false,"internalType":"bool","name":"isBuy","type":"bool"},{"indexed":false,"internalType":"uint256","name":"shareAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"ethAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"protocolEthAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"subjectEthAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"supply","type":"uint256"}],"name":"Trade","type":"event"},{"inputs":[{"internalType":"address","name":"sharesSubject","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"buyShares","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"sharesSubject","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getBuyPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"sharesSubject","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getBuyPriceAfterFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"supply","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"sharesSubject","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getSellPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"sharesSubject","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getSellPriceAfterFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"protocolFeeDestination","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"protocolFeePercent","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sharesSubject","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"sellShares","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"_feeDestination","type":"address"}],"name":"setFeeDestination","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_feePercent","type":"uint256"}],"name":"setProtocolFeePercent","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_feePercent","type":"uint256"}],"name":"setSubjectFeePercent","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"sharesBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"sharesSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"subjectFeePercent","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),a=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"trader","type":"address"},{"indexed":false,"internalType":"address","name":"subject","type":"address"},{"indexed":false,"internalType":"bool","name":"isBuy","type":"bool"},{"indexed":false,"internalType":"uint256","name":"shareAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"ethAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"protocolEthAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"subjectEthAmount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"supply","type":"uint256"}],"name":"Trade","type":"event"},{"inputs":[{"internalType":"address","name":"sharesSubject","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"buyShares","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"sharesSubject","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getBuyPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"sharesSubject","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getBuyPriceAfterFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"supply","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"sharesSubject","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getSellPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"sharesSubject","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"getSellPriceAfterFee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"protocolFeeDestination","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"protocolFeePercent","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sharesSubject","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"sellShares","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"_feeDestination","type":"address"}],"name":"setFeeDestination","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_feePercent","type":"uint256"}],"name":"setProtocolFeePercent","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_feePercent","type":"uint256"}],"name":"setSubjectFeePercent","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"sharesBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"sharesSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"subjectFeePercent","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"}]');let r=s.yv?i:a;var o=r},55411:function(e,t,n){"use strict";n.d(t,{AN:function(){return c},Fs:function(){return l},f:function(){return o},nS:function(){return d},np:function(){return u}});var s=n(94185),i=n(87887),a=n(68854),r=n(90344);async function o(e,t){return await (0,s.a4)({address:i.iF,abi:a.Z,functionName:"getBuyPrice",chainId:r.appChain.id,args:[e,t]})}async function l(e,t){return await (0,s.a4)({address:i.iF,abi:a.Z,functionName:"getBuyPriceAfterFee",chainId:r.appChain.id,args:[e,t]})}async function u(e,t){return await (0,s.a4)({address:i.iF,abi:a.Z,functionName:"getSellPrice",chainId:r.appChain.id,args:[e,t]})}async function c(e,t){return await (0,s.a4)({address:i.iF,abi:a.Z,functionName:"getSellPriceAfterFee",chainId:r.appChain.id,args:[e,t]})}async function d(e,t){return await (0,s.a4)({address:i.iF,abi:a.Z,functionName:"sharesBalance",chainId:r.appChain.id,args:[e,t]})}},14661:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var s=n(85893),i=n(10682),a=n(34051),r=n(41330),o=n(39485),l=n(99034),u=n.n(l),c=n(33531),d=n(39395),p=n(0),y=n(87887),m=n(33712),h=n(39910),f=n(67294);function x(){let[e,t]=(0,f.useState)(""),[n,l]=(0,f.useState)(!0),{appUser:x,jwt:g,setHasSeenBetaPrompt:j}=(0,p.b)(),b=async()=>{try{let e=await (0,h.yg)(!0,null==x?void 0:x.address,g);console.log("isAccepted",e),n?(0,h.iz)((0,m.rh)()).then(e=>{console.log("Posted tweet",e)}).catch(e=>{console.log(e),t(e.message)}).finally(()=>{j(!0),(0,m.p)(!0)}):(j(!0),(0,m.p)(!0))}catch(e){console.log(e),j(!0),(0,m.p)(!0)}};return(0,s.jsxs)(i.Z,{fluid:!0,style:{padding:"2em 1em"},className:u().container,children:[(0,s.jsx)(a.Z,{children:(0,s.jsx)(r.Z,{src:"./betaIcon.png",className:u().onboardingImage})}),(0,s.jsxs)(a.Z,{className:u().textHeadline,style:{marginTop:"1em"},children:[y.DJ," is in beta!"]}),(0,s.jsxs)(a.Z,{style:{marginTop:"1em",color:c.Z.gray},children:["Thanks for being an early supporter and helping us test the app.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"We've given you three invites to share with friends. You can find these codes in the Airdrop tab.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"If you have any feedback, please let us know on Twitter at @friendtech."]}),(0,s.jsxs)(a.Z,{style:{color:c.Z.gray,marginTop:"4em"},children:["By using this app, you confirm that you are 18 years of age or older",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),e&&(0,s.jsx)(a.Z,{className:u().textError,style:{marginBottom:"1em"},children:e}),(0,s.jsx)(d.Z,{text:"Start using the app",onClick:()=>b()}),(0,s.jsxs)("div",{id:"tweet-checkbox-row",style:{display:"flex",flexDirection:"row",alignItems:"center",marginTop:"1em",justifyContent:"center"},onClick:()=>l(!n),children:[(0,s.jsx)("span",{children:(0,s.jsx)(o.Z,{type:"checkbox",checked:n,onChange:()=>l(!n)})}),(0,s.jsx)("span",{style:{marginLeft:8,color:c.Z.gray,fontSize:14},children:"Post a tweet to let friends know you joined"})]})]})]})}},57541:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return T}});var s=n(85893),i=n(10682),a=n(34051),r=n(41330),o=n(31555),l=n(41598),u=n(1796),c=n(99034),d=n.n(c),p=n(33531),y=n(87887),m=n(39395),h=n(68854),f=n(77294),x=n(90344),g=n(67294),j=n(55411),b=n(0),v=n(33712);function T(){let{ready:e,user:t,sendTransaction:n}=(0,u.sv)(),{wallets:c}=(0,u.rB)(),[T,Z]=(0,g.useState)(),[w,S]=(0,g.useState)(!1),{setHasBoughtFirstShare:k}=(0,b.b)(),C={header:"Buy Your First Key",description:"Your first key is free.",transactionInfo:{action:"Purchase",actionDescription:"Purchase Details",description:"Your first key is free."},buttonText:"Complete Purchase"};(0,g.useEffect)(()=>{if(t){let e=setInterval(()=>{var e;(0,j.f)(null===(e=t.wallet)||void 0===e?void 0:e.address,1).then(e=>{let t=0!==Number(e);S(t),t&&(console.log("Already bought first key"),N())})},3e3);return()=>{clearInterval(e)}}},[t]);let N=()=>{k(!0),(0,v.NH)(!0)},E=async()=>{let e=c.find(e=>"privy"===e.walletClientType),t=null==e?void 0:e.address;try{let s=await (null==e?void 0:e.getEthersProvider()),i=null==s?void 0:s.getSigner(),a=new f.CH(y.iF,h.Z,i),{data:r}=await a.populateTransaction.buyShares(t,1),o={to:y.iF,data:r,chainId:x.appChain.id,value:0,maxPriorityFeePerGas:y.J9};n(o,C).then(e=>{console.log("Buy success",e),N()}).catch(e=>{console.log("Buy error",e),Z(e.message)})}catch(e){console.log(e),Z(e.message)}};return e?(0,s.jsxs)(i.Z,{fluid:!0,style:{padding:"2em 1em"},className:d().container,children:[(0,s.jsx)(a.Z,{children:(0,s.jsx)(r.Z,{src:"./keyIcon.png",className:d().onboardingImage})}),(0,s.jsx)(a.Z,{className:d().textHeadline,style:{marginTop:"0.5em"},children:"Buy your first key"}),(0,s.jsxs)(a.Z,{style:{marginTop:"0.5em",color:p.Z.gray},children:["Everyone on ",y.DJ," has a chat unlocked by their keys. These keys can be bought and sold on a person's profile and their price goes up and down based on how many are currently circulating.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"You'll earn trading fees every time your keys are bought and sold by anyone.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"To create your profile, buy the first key to your own room for free."]}),(0,s.jsx)(a.Z,{style:{marginTop:"5em"},children:(0,s.jsx)(m.Z,{text:"Buy Key for $0",onClick:()=>E()})}),T&&(0,s.jsx)(a.Z,{className:d().textError,children:(0,s.jsx)(o.Z,{children:T})})]}):(0,s.jsx)(l.Z,{})}},52843:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var s=n(85893),i=n(10682),a=n(34051),r=n(41330),o=n(31555),l=n(99034),u=n.n(l),c=n(39395),d=n(33531),p=n(87887),y=n(1796),m=n(11163),h=n(41598),f=n(69077),x=n(67294),g=n(8728),j=n(76782);function b(e){let{body:t,buttonTitle:n,open:i,onClose:a}=e;return(0,s.jsx)(j.Z,{show:i,onHide:a,className:u().modalContainer,centered:!0,children:(0,s.jsxs)("div",{style:{padding:"2em"},children:[(0,s.jsx)("div",{children:t}),(0,s.jsx)("div",{style:{marginTop:"2em"},children:(0,s.jsx)(c.Z,{text:n,onClick:()=>a()})})]})})}var v=n(90344),T=n(91922),Z=n(10800);function w(){var e;let t=(0,m.useRouter)(),{ready:n,user:l}=(0,y.sv)(),[j,w]=(0,x.useState)(),[S,k]=(0,x.useState)(),[C,N]=(0,x.useState)(!1),[E,P]=(0,x.useState)(!1),{data:F,refetch:I}=(0,f.KQ)({address:j,chainId:v.appChain.id,enabled:!!j});(0,x.useEffect)(()=>{let e=setInterval(()=>{I()},3e3);return()=>{clearInterval(e)}},[]),(0,x.useEffect)(()=>{F&&k(Number(F.formatted))},[F]),(0,x.useEffect)(()=>{if(l){var e;w(null===(e=l.wallet)||void 0===e?void 0:e.address)}},[l]);let M=()=>{navigator.clipboard.writeText(null!=j?j:"").then(()=>{alert((0,g.Tp)(null!=j?j:""))}).catch(()=>{alert("Error copying "+j+" to clipboard!")})},A=()=>{P(!0)},B=()=>{Z.j("signupOnramp"),window.open("https://app.ramp.network/?defaultAsset=BASE_ETH&hostApiKey=5mob58javexkwwzsjcmdhad3dgzoyh8m8xfk2fmo&userAddress=".concat(j),"_blank")};return n?(0,s.jsxs)(i.Z,{fluid:!0,style:{padding:"2em 1em"},className:u().container,children:[(0,s.jsx)(b,{body:"You'll need some ETH to get started using the rest of the app. We recommend at least 0.01 ETH (~$20).",buttonTitle:"Got it",open:C,onClose:()=>N(!1)}),(0,s.jsx)(T.Z,{open:E,onClose:()=>P(!1)}),(0,s.jsx)(a.Z,{children:(0,s.jsx)(r.Z,{src:"./wallet.svg",className:u().onboardingImage})}),(0,s.jsx)(a.Z,{className:u().textHeadline,style:{marginTop:"0.5em"},children:"Get some ETH on Base"}),(0,s.jsx)(a.Z,{style:{marginTop:"0.5em",color:d.Z.gray},children:"You'll use ETH, the official currency of Base, when you buy and sell your friends' keys."}),p.U0&&(0,s.jsxs)(a.Z,{id:"onramp-row",style:{marginTop:"2em",padding:"1em 0em",paddingLeft:0},className:u().containerGray,onClick:()=>B(),children:[(0,s.jsx)(o.Z,{xs:"2",children:(0,s.jsx)(r.Z,{src:"./creditCard.svg",style:{width:"3em",objectFit:"contain",padding:0}})}),(0,s.jsxs)(o.Z,{xs:"auto",children:[(0,s.jsx)("div",{style:{fontFamily:"".concat(p.fm," Medium")},children:"Buy with credit card"}),(0,s.jsx)("div",{style:{color:d.Z.gray,fontSize:14},children:"Easiest for beginners"})]}),(0,s.jsx)(o.Z,{style:{textAlign:"right"},children:(0,s.jsx)(c.Z,{padding:"4px 16px",color:d.Z.blue,backgroundColor:"transparent",fontSize:12,shadow:"none",text:"Buy",onClick:()=>{}})})]}),(0,s.jsxs)(a.Z,{id:"bridge-row",style:{marginTop:"1em",padding:"1em 0em",paddingLeft:0},className:u().containerGray,onClick:()=>A(),children:[(0,s.jsx)(o.Z,{xs:"2",children:(0,s.jsx)(r.Z,{src:"./ether.svg",style:{width:"3em",objectFit:"contain",padding:0}})}),(0,s.jsxs)(o.Z,{xs:"auto",children:[(0,s.jsx)("div",{style:{fontFamily:"".concat(p.fm," Medium")},children:"Deposit on mainnet"}),(0,s.jsx)("div",{style:{color:d.Z.gray,fontSize:14},children:"Can use another device"})]}),(0,s.jsx)(o.Z,{style:{textAlign:"right"},children:(0,s.jsx)(c.Z,{padding:"4px 16px",color:d.Z.blue,backgroundColor:"transparent",fontSize:12,shadow:"none",text:"Deposit",onClick:()=>{}})})]}),(0,s.jsxs)(a.Z,{id:"copy-address-row",style:{marginTop:"1em",padding:"1em 0em",paddingLeft:0},className:u().containerGray,onClick:()=>M(),children:[(0,s.jsx)(o.Z,{xs:"2",children:(0,s.jsx)(r.Z,{src:"./copyIconOutline.svg",style:{width:"2em",height:"2em",objectFit:"contain",marginLeft:8}})}),(0,s.jsxs)(o.Z,{xs:"auto",onClick:()=>M(),children:[(0,s.jsx)("div",{style:{fontFamily:"".concat(p.fm," Medium")},children:"Receive on Base"}),(0,s.jsx)("div",{style:{color:d.Z.gray,fontSize:14},children:(0,g.Xn)(null!=j?j:"")})]}),(0,s.jsx)(o.Z,{style:{textAlign:"right"},children:(0,s.jsx)(c.Z,{padding:"4px 16px",color:d.Z.blue,backgroundColor:"transparent",fontSize:12,shadow:"none",text:"Copy Address",onClick:()=>{}})})]}),(0,s.jsx)(a.Z,{style:{marginTop:"3em"},children:(0,s.jsx)(c.Z,{text:"Proceed",onClick:()=>{S&&0!==S?t.reload():N(!0)}})}),(0,s.jsx)(a.Z,{className:u().backgroundTapHover,style:{textAlign:"center",marginTop:"1em"},onClick:()=>I(),children:(0,s.jsxs)("div",{style:{alignItems:"center"},children:[(0,s.jsxs)("span",{style:{color:d.Z.gray,fontFamily:"".concat(p.fm," Medium"),paddingRight:8},children:["Wallet Balance: ",(0,g.mR)(null!==(e=null==S?void 0:S.toString())&&void 0!==e?e:"0")," ETH"]}),(0,s.jsx)("span",{children:(0,s.jsx)(r.Z,{src:"./refreshIcon.svg",style:{width:16,height:16,marginBottom:4,objectFit:"contain"}})})]})})]}):(0,s.jsx)(h.Z,{})}},66367:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var s=n(85893);n(96518);var i=n(41330),a=n(10682),r=n(31555),o=n(34051),l=n(99034),u=n.n(l),c=n(50800),d=n(33531),p=n(39395),y=n(2584),m=n(67294),h=n(1796),f=n(87887),x=n(8728),g=n(41598),j=n(0);function b(){let{ready:e,authenticated:t,login:n,logout:l}=(0,h.sv)(),{appLogout:b}=(0,j.b)(),[v,T]=(0,m.useState)(!1);(0,m.useEffect)(()=>{T((0,x.tq)())},[]);let Z=()=>{n()};return e?(0,s.jsx)(a.Z,{fluid:!0,className:u().container,style:{alignItems:"center",justifyContent:"center",textAlign:"center",padding:0},children:(0,s.jsxs)(r.Z,{xs:"12",md:"6",children:[(0,s.jsx)(o.Z,{style:{justifyContent:"center",marginBottom:"1em"},children:(0,s.jsx)(i.Z,{src:"./friendtechlogo.png",style:{width:"8em",objectFit:"contain"}})}),(0,s.jsx)(o.Z,{children:(0,s.jsx)(c.Z,{})}),(0,s.jsx)(o.Z,{style:{justifyContent:"center",marginTop:"1em",color:d.Z.gray,marginBottom:"12em"},children:"The marketplace for your friends"}),v?(0,s.jsx)(o.Z,{style:{marginLeft:"3em",marginRight:"3em"},children:(0,s.jsx)(p.Z,{text:"Sign In",onClick:()=>Z()})}):(0,s.jsx)(o.Z,{children:(0,s.jsx)("div",{style:{fontSize:18,fontFamily:"".concat(f.fm," Medium")},children:"\uD83D\uDCF2 Visit friend.tech on a phone to install the app"})}),(0,s.jsx)(o.Z,{style:{marginTop:"1em"},children:(0,s.jsx)(y.Z,{text:"Check out our privacy policy",onClick:()=>window.location.href="privacy.html"})})]})}):(0,s.jsx)(g.Z,{})}},42603:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var s=n(85893),i=n(9008),a=n.n(i),r=n(36794),o=n(87887),l=n(1796),u=n(66367),c=n(67294),d=n(39910),p=n(33712),y=n(69077),m=n(55411),h=n(31401),f=n(41598),x=n(90344),g=n(57541),j=n(52843),b=n(0),v=n(34051),T=n(31555),Z=n(36968),w=n(33531),S=n(2584),k=n(35720),C=n(14661),N=n(52139),E=n(39583),P=n(99034),F=n.n(P);function I(){let{ready:e,user:t,authenticated:n,logout:i,getAccessToken:P}=(0,l.sv)(),{appLogout:I,setAppUser:M,setActiveTab:A,setHasBoughtFirstShare:B,setHasFundedWallet:_,setJwt:D,hasBoughtFirstShare:O,hasSeenNotificationPrompt:z,hasSeenBetaPrompt:H,isInvited:L}=(0,b.b)(),[G,R]=(0,c.useState)(),[J,Y]=(0,c.useState)(),[K,W]=(0,c.useState)(),[$,U]=(0,c.useState)(),[V,X]=(0,c.useState)(),[Q,q]=(0,c.useState)(),[ee,et]=(0,c.useState)(),[en,es]=(0,c.useState)(),[ei,ea]=(0,c.useState)(),[er,eo]=(0,c.useState)(),{data:el,refetch:eu,error:ec,isLoading:ed}=(0,y.KQ)({address:G,chainId:x.appChain.id,enabled:!!G});return(0,c.useEffect)(()=>{(0,p.tx)(E.a[0]),A(E.a[0]),eo((0,p.rh)())},[]),(0,c.useEffect)(()=>{G&&er&&(console.log("Index fetch user"),(0,d._s)(G,er).then(Y).catch(W))},[er,G]),(0,c.useEffect)(()=>{if(el){let e=Number(el.formatted);console.log("Eth balance",e),et(e),_(e>0),(0,p.ks)(e>0)}},[el]),(0,c.useEffect)(()=>{ec&&console.log("Eth balance error",ec)},[ec]),(0,c.useEffect)(()=>{if(t){var e;P().then(X).catch(e=>{console.log("Privy jwt error",e),q(e.message)}),R(null===(e=t.wallet)||void 0===e?void 0:e.address)}},[t]),(0,c.useEffect)(()=>{J&&(M(J),(0,p.c7)(J),(null==J?void 0:J.twitterUserId)&&U(!0))},[J]),(0,c.useEffect)(()=>{G&&$&&(0,m.f)(G,1).then(e=>{let t=Number(e);console.log("Buy price",t),es(t),B(t>0),(0,p.NH)(t>0)}).catch(e=>{console.log("Buy price error",e)})},[G,$]),(0,c.useEffect)(()=>{K&&(console.log("Index API user error",K),U(!1))},[K]),(0,c.useEffect)(()=>{let e=(0,p.rh)();if(e){ea(!1);return}G&&V&&(ea(!0),(0,d.Vr)(G,V).then(e=>{console.log("Post signature success",e),(0,p.$s)(e.token),eo(e.token),D(e.token),eu()}).catch(e=>{alert("Error posting signature: "+e.message)}).finally(()=>ea(!1)))},[G,V]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a(),{children:[(0,s.jsx)("title",{children:o.DJ}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,s.jsx)("script",{type:"text/javascript",async:!0,src:"https://platform.twitter.com/widgets.js"}),(0,s.jsx)("script",{src:"https://cdn.onesignal.com/sdks/OneSignalSDK.js",defer:!0})]}),(0,s.jsx)("main",{children:e?n?void 0===ei?(0,s.jsx)(v.Z,{style:{alignItems:"center",justifyContent:"center",height:"100vh"},children:(0,s.jsxs)(T.Z,{style:{textAlign:"center"},children:[(0,s.jsx)("div",{children:(0,s.jsx)(Z.Z,{style:{color:w.Z.blue}})}),(0,s.jsxs)("div",{className:F().textError,children:[V?"":"Error retrieving Privy token for "+G,(0,s.jsx)("br",{}),Q]}),(0,s.jsx)("div",{className:F().textError,children:G?"":"Error retrieving Privy wallet"}),(0,s.jsx)("div",{children:(0,s.jsx)(S.Z,{text:"Log out and retry",onClick:()=>{i().then(()=>{I()}).catch(console.error)}})}),(0,s.jsx)("div",{className:F().textError,style:{color:"black",marginTop:"3em"},children:"If this error persists, please try deleting and reinstalling your PWA."})]})}):ei?void 0:L?void 0===$?(console.log("Loading user jwt"),(0,s.jsx)(f.Z,{})):$?void 0===ee?(console.log("Loading eth balance"),(0,s.jsx)(f.Z,{})):null!=ee&&ee?void 0===en?(console.log("Loading buy price"),(0,s.jsx)(f.Z,{})):en>0||O?z?H?(0,s.jsx)(r.default,{}):(0,s.jsx)(C.default,{}):(console.log("Loading has seen notification prompt"),(0,s.jsx)(k.default,{})):(0,s.jsx)(g.default,{}):(0,s.jsx)(j.default,{}):(0,s.jsx)(h.default,{}):(0,s.jsx)(N.default,{}):(console.log("Not authenticated"),(0,s.jsx)(u.default,{})):(console.log("Not ready"),(0,s.jsx)(f.Z,{}))})]})}},52139:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var s=n(85893),i=n(10682),a=n(34051),r=n(41330),o=n(94716),l=n(99034),u=n.n(l),c=n(33531),d=n(39395),p=n(0),y=n(87887),m=n(67294),h=n(39910),f=n(33712),x=n(1796),g=n(2584);function j(){let{logout:e}=(0,x.sv)(),[t,n]=(0,m.useState)(""),[l,j]=(0,m.useState)(""),{appLogout:b,setIsInvited:v}=(0,p.b)(),T=()=>{(0,h.FD)((0,f.rh)(),t).then(e=>{console.log("Invite code valid!",e),v(!0)}).catch(e=>{console.log(e),j(e.message)})};return(0,s.jsxs)(i.Z,{fluid:!0,style:{padding:"2em 1em"},className:u().container,children:[(0,s.jsx)(a.Z,{children:(0,s.jsx)(r.Z,{src:"./inviteIcon.png",className:u().onboardingImage})}),(0,s.jsx)(a.Z,{className:u().textHeadline,style:{marginTop:"0.5em"},children:"Got an invite code?"}),(0,s.jsxs)(a.Z,{style:{marginTop:"1em",color:c.Z.gray},children:[y.DJ," is currently in beta. Get an invite code from an existing user to sign up"]}),(0,s.jsx)(a.Z,{style:{marginTop:"2em"},children:(0,s.jsx)(o.Z,{placeholder:"Enter Invite Code",className:u().textInput,style:{border:"2px solid ".concat(c.Z.blue),textAlign:"center",padding:"1em"},value:t,onChange:e=>n(e.target.value)})}),(0,s.jsxs)(a.Z,{style:{marginTop:"6em"},children:[l&&(0,s.jsx)(a.Z,{className:u().textError,style:{marginBottom:"1em"},children:l}),(0,s.jsx)(d.Z,{disabled:0===t.length,text:"Proceed",onClick:()=>T()})]}),(0,s.jsx)(a.Z,{style:{marginTop:"1em"},children:(0,s.jsx)(g.Z,{text:"Log out",onClick:()=>{e().then(()=>{b()}).catch(console.error)}})})]})}},31401:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var s=n(85893),i=n(10682),a=n(34051),r=n(41330),o=n(31555),l=n(99034),u=n.n(l),c=n(39395),d=n(67294),p=n(33531),y=n(87887),m=n(1796),h=n(39910),f=n(33712),x=n(11163),g=n(41598),j=n(2584),b=n(0);function v(){let e=(0,x.useRouter)(),{ready:t,user:n,logout:l}=(0,m.sv)(),{appLogout:v}=(0,b.b)(),[T,Z]=(0,d.useState)(),[w,S]=(0,d.useState)(!1),[k,C]=(0,d.useState)();(0,d.useEffect)(()=>{C((0,f.rh)())},[]),(0,d.useEffect)(()=>{if(n&&k){let e=setInterval(()=>{var e;(0,h._s)(null==n?void 0:null===(e=n.wallet)||void 0===e?void 0:e.address,k).then(e=>{console.log("Fetch user success"),e.twitterUserId&&S(!0)}).catch(console.log)},3e3);return()=>{clearInterval(e)}}},[n,k]);let N=()=>{if(!k){Z("Missing JWT.");return}(0,h.B9)(k).then(e=>{console.log("Get auth link success",e),window.location=e.url}).catch(e=>{console.log("Get auth link error",e),Z("Error generating link. Please try again.")})};return t?(0,s.jsxs)(i.Z,{fluid:!0,style:{padding:"2em 1em"},className:u().container,children:[(0,s.jsx)(a.Z,{children:(0,s.jsx)(r.Z,{src:"./twitterImage.svg",className:u().onboardingImage})}),(0,s.jsx)(a.Z,{className:u().textHeadline,style:{marginTop:"0.5em"},children:"Link your socials"}),(0,s.jsx)(a.Z,{style:{marginTop:"0.5em",color:p.Z.gray},children:"Connect your Twitter account to verify your identity and make it easier for friends to discover and trade your token."}),(0,s.jsxs)(a.Z,{style:{marginTop:"2em",padding:"1em 0em",zIndex:10},className:u().containerGray,onClick:()=>{N()},children:[(0,s.jsx)(o.Z,{xs:"auto",children:(0,s.jsx)("div",{style:{backgroundColor:"white",padding:8,borderRadius:"50%"},children:(0,s.jsx)(r.Z,{src:"./twitterLogo.svg",style:{width:"2em",height:"2em",objectFit:"contain",padding:0}})})}),(0,s.jsx)(o.Z,{xs:"auto",children:(0,s.jsx)("div",{style:{fontFamily:"".concat(y.fm," Medium")},children:"Link your Twitter"})}),(0,s.jsx)(o.Z,{style:{textAlign:"right"},children:(0,s.jsx)(c.Z,{padding:"4px 16px",fontSize:14,text:"Link",onClick:()=>N()})})]}),T&&(0,s.jsx)(a.Z,{className:u().textError,style:{justifyContent:"center"},children:T}),w&&(0,s.jsx)(a.Z,{style:{marginTop:"5em",justifyContent:"center",fontSize:12},children:(0,s.jsx)(c.Z,{text:"Proceed",onClick:()=>{e.reload()}})}),(0,s.jsx)(a.Z,{style:{marginTop:"5em",justifyContent:"center",fontSize:12},children:(0,s.jsx)(j.Z,{text:"Log out",onClick:()=>{l().then(()=>{v()}).catch(console.error)}})})]}):(0,s.jsx)(g.Z,{})}},35720:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var s=n(85893),i=n(10682),a=n(34051),r=n(41330),o=n(99034),l=n.n(o),u=n(33531),c=n(39395),d=n(2584),p=n(33712),y=n(25074),m=n(0);function h(){let{setHasSeenNotificationPrompt:e}=(0,m.b)(),t=()=>{y.Z.showNativePrompt().then(()=>{e(!0),(0,p.dg)(!0)}).catch(e=>{console.log("OneSignal could not prompt for notifications:",e)})},n=()=>{e(!0),(0,p.dg)(!0)};return(0,s.jsxs)(i.Z,{fluid:!0,style:{padding:"2em 1em"},className:l().container,children:[(0,s.jsx)(a.Z,{children:(0,s.jsx)(r.Z,{src:"./messageIcon.png",className:l().onboardingImage})}),(0,s.jsx)(a.Z,{className:l().textHeadline,style:{marginTop:"0.5em"},children:"Exclusive chats"}),(0,s.jsxs)(a.Z,{style:{marginTop:"0.5em",color:u.Z.gray},children:["Keys give you access to exclusive one-to-many chats with your friends.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"In your own chat, you'll see messages from all your holders, but they'll only see messages from you. To prevent spam, every holder gets to send three messages before waiting for you to reply and reset their limit.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"Turn on notifications to find out when new messages come in. You'll be able to choose different notification levels on a per-room basis."]}),(0,s.jsx)(a.Z,{style:{marginTop:"2em"},children:(0,s.jsx)(c.Z,{text:"Enable Notifications",onClick:()=>t()})}),(0,s.jsx)(a.Z,{style:{marginTop:"1em"},children:(0,s.jsx)(d.Z,{text:"No notifications",onClick:()=>n()})})]})}}},function(e){e.O(0,[726,787,782,294,0,794,774,888,179],function(){return e(e.s=48312)}),_N_E=e.O()}]);
